function cov_1su51lq53q(){var path="C:\\Users\\peite\\Desktop\\3. Semester\\Programmering\\Lock-NESS\\routes\\generateToBox.js";var hash="25337abaa91e93ae14e0672214989b8c33a700dd";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\peite\\Desktop\\3. Semester\\Programmering\\Lock-NESS\\routes\\generateToBox.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:32}},"1":{start:{line:2,column:13},end:{line:2,column:29}},"2":{start:{line:3,column:11},end:{line:3,column:39}},"3":{start:{line:5,column:0},end:{line:32,column:5}},"4":{start:{line:6,column:20},end:{line:6,column:40}},"5":{start:{line:7,column:30},end:{line:7,column:49}},"6":{start:{line:8,column:16},end:{line:8,column:33}},"7":{start:{line:9,column:4},end:{line:31,column:5}},"8":{start:{line:10,column:6},end:{line:28,column:11}},"9":{start:{line:12,column:10},end:{line:23,column:11}},"10":{start:{line:13,column:12},end:{line:20,column:17}},"11":{start:{line:15,column:16},end:{line:15,column:80}},"12":{start:{line:18,column:16},end:{line:18,column:73}},"13":{start:{line:19,column:16},end:{line:19,column:75}},"14":{start:{line:22,column:12},end:{line:22,column:51}},"15":{start:{line:26,column:10},end:{line:26,column:58}},"16":{start:{line:27,column:10},end:{line:27,column:60}},"17":{start:{line:30,column:6},end:{line:30,column:43}},"18":{start:{line:33,column:0},end:{line:33,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:17},end:{line:5,column:18}},loc:{start:{line:5,column:42},end:{line:32,column:3}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:14},end:{line:11,column:15}},loc:{start:{line:11,column:28},end:{line:24,column:9}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:14,column:20},end:{line:14,column:21}},loc:{start:{line:14,column:26},end:{line:16,column:15}},line:14},"3":{name:"(anonymous_3)",decl:{start:{line:17,column:21},end:{line:17,column:22}},loc:{start:{line:17,column:30},end:{line:20,column:15}},line:17},"4":{name:"(anonymous_4)",decl:{start:{line:25,column:15},end:{line:25,column:16}},loc:{start:{line:25,column:24},end:{line:28,column:9}},line:25}},branchMap:{"0":{loc:{start:{line:9,column:4},end:{line:31,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:31,column:5}},{start:{line:9,column:4},end:{line:31,column:5}}],line:9},"1":{loc:{start:{line:12,column:10},end:{line:23,column:11}},type:"if",locations:[{start:{line:12,column:10},end:{line:23,column:11}},{start:{line:12,column:10},end:{line:23,column:11}}],line:12}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"25337abaa91e93ae14e0672214989b8c33a700dd"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1su51lq53q=function(){return actualCoverage;};}return actualCoverage;}cov_1su51lq53q();var express=(cov_1su51lq53q().s[0]++,require('express'));var router=(cov_1su51lq53q().s[1]++,express.Router());const db=(cov_1su51lq53q().s[2]++,require('../database/db.js'));cov_1su51lq53q().s[3]++;router.post('/',function(req,res,next){cov_1su51lq53q().f[0]++;const pokList=(cov_1su51lq53q().s[4]++,req.body.pokemonList);const parsedPokemonList=(cov_1su51lq53q().s[5]++,JSON.parse(pokList));let token=(cov_1su51lq53q().s[6]++,req.cookies.token);cov_1su51lq53q().s[7]++;if(token){cov_1su51lq53q().b[0][0]++;cov_1su51lq53q().s[8]++;db.getUserByToken(token).then(userData=>{cov_1su51lq53q().f[1]++;cov_1su51lq53q().s[9]++;if(userData){cov_1su51lq53q().b[1][0]++;cov_1su51lq53q().s[10]++;db.insertPokemonListIntoTeam(parsedPokemonList,userData.Userid,1).then(()=>{cov_1su51lq53q().f[2]++;cov_1su51lq53q().s[11]++;res.status(200).send('Pokémon successfully inserted into team');}).catch(err=>{cov_1su51lq53q().f[3]++;cov_1su51lq53q().s[12]++;console.error('Error inserting Pokémon into team:',err);cov_1su51lq53q().s[13]++;res.status(500).send('Failed to insert Pokémon into team');});}else{cov_1su51lq53q().b[1][1]++;cov_1su51lq53q().s[14]++;res.status(404).send('User not found');}}).catch(err=>{cov_1su51lq53q().f[4]++;cov_1su51lq53q().s[15]++;console.error('Error fetching user data:',err);cov_1su51lq53q().s[16]++;res.status(500).send('Failed to fetch user data');});}else{cov_1su51lq53q().b[0][1]++;cov_1su51lq53q().s[17]++;res.status(401).send('Unauthorized');}});cov_1su51lq53q().s[18]++;module.exports=router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXN1NTFscTUzcSIsImFjdHVhbENvdmVyYWdlIiwiZXhwcmVzcyIsInMiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiZGIiLCJwb3N0IiwicmVxIiwicmVzIiwibmV4dCIsImYiLCJwb2tMaXN0IiwiYm9keSIsInBva2Vtb25MaXN0IiwicGFyc2VkUG9rZW1vbkxpc3QiLCJKU09OIiwicGFyc2UiLCJ0b2tlbiIsImNvb2tpZXMiLCJiIiwiZ2V0VXNlckJ5VG9rZW4iLCJ0aGVuIiwidXNlckRhdGEiLCJpbnNlcnRQb2tlbW9uTGlzdEludG9UZWFtIiwiVXNlcmlkIiwic3RhdHVzIiwic2VuZCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImdlbmVyYXRlVG9Cb3guanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBkYiA9IHJlcXVpcmUoJy4uL2RhdGFiYXNlL2RiLmpzJyk7XHJcblxyXG5yb3V0ZXIucG9zdCgnLycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBjb25zdCBwb2tMaXN0ID0gcmVxLmJvZHkucG9rZW1vbkxpc3Q7XHJcbiAgICBjb25zdCBwYXJzZWRQb2tlbW9uTGlzdCA9IEpTT04ucGFyc2UocG9rTGlzdCk7XHJcbiAgICBsZXQgdG9rZW4gPSByZXEuY29va2llcy50b2tlbjtcclxuICAgIGlmICh0b2tlbikge1xyXG4gICAgICBkYi5nZXRVc2VyQnlUb2tlbih0b2tlbilcclxuICAgICAgICAudGhlbigodXNlckRhdGEpID0+IHtcclxuICAgICAgICAgIGlmICh1c2VyRGF0YSkge1xyXG4gICAgICAgICAgICBkYi5pbnNlcnRQb2tlbW9uTGlzdEludG9UZWFtKHBhcnNlZFBva2Vtb25MaXN0LCB1c2VyRGF0YS5Vc2VyaWQsIDEpXHJcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoJ1Bva8OpbW9uIHN1Y2Nlc3NmdWxseSBpbnNlcnRlZCBpbnRvIHRlYW0nKTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbnNlcnRpbmcgUG9rw6ltb24gaW50byB0ZWFtOicsIGVycik7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCgnRmFpbGVkIHRvIGluc2VydCBQb2vDqW1vbiBpbnRvIHRlYW0nKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCdVc2VyIG5vdCBmb3VuZCcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgZGF0YTonLCBlcnIpO1xyXG4gICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoJ0ZhaWxlZCB0byBmZXRjaCB1c2VyIGRhdGEnKTtcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKCdVbmF1dGhvcml6ZWQnKTtcclxuICAgIH1cclxuICB9KTtcclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiazhGQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLEdBQUksQ0FBQUUsT0FBTyxFQUFBRixjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUNoQyxHQUFJ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