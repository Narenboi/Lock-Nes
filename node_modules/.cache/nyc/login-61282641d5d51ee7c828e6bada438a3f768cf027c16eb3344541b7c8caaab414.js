function cov_gw9ybteza(){var path="C:\\Users\\Kevin\\Documents\\GitHub\\Lock-NESS\\routes\\login.js";var hash="84fd75e15829da78c78557b888ee19cbd06815b5";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Kevin\\Documents\\GitHub\\Lock-NESS\\routes\\login.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:32}},"1":{start:{line:2,column:13},end:{line:2,column:29}},"2":{start:{line:3,column:11},end:{line:3,column:39}},"3":{start:{line:4,column:14},end:{line:4,column:45}},"4":{start:{line:7,column:0},end:{line:9,column:3}},"5":{start:{line:8,column:2},end:{line:8,column:42}},"6":{start:{line:11,column:0},end:{line:28,column:3}},"7":{start:{line:12,column:2},end:{line:27,column:3}},"8":{start:{line:13,column:21},end:{line:13,column:38}},"9":{start:{line:14,column:19},end:{line:14,column:36}},"10":{start:{line:15,column:17},end:{line:15,column:64}},"11":{start:{line:16,column:4},end:{line:23,column:5}},"12":{start:{line:17,column:20},end:{line:17,column:84}},"13":{start:{line:18,column:6},end:{line:18,column:43}},"14":{start:{line:19,column:6},end:{line:19,column:86}},"15":{start:{line:20,column:6},end:{line:20,column:30}},"16":{start:{line:22,column:6},end:{line:22,column:29}},"17":{start:{line:25,column:4},end:{line:25,column:21}},"18":{start:{line:26,column:4},end:{line:26,column:27}},"19":{start:{line:30,column:0},end:{line:30,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:16},end:{line:7,column:17}},loc:{start:{line:7,column:41},end:{line:9,column:1}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:48},end:{line:28,column:1}},line:11}},branchMap:{"0":{loc:{start:{line:16,column:4},end:{line:23,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:23,column:5}},{start:{line:16,column:4},end:{line:23,column:5}}],line:16}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},f:{"0":0,"1":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"84fd75e15829da78c78557b888ee19cbd06815b5"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_gw9ybteza=function(){return actualCoverage;};}return actualCoverage;}cov_gw9ybteza();var express=(cov_gw9ybteza().s[0]++,require('express'));var router=(cov_gw9ybteza().s[1]++,express.Router());const db=(cov_gw9ybteza().s[2]++,require('../database/db.js'));const login=(cov_gw9ybteza().s[3]++,require('../database/login.js'));/* GET home page. */cov_gw9ybteza().s[4]++;router.get('/',function(req,res,next){cov_gw9ybteza().f[0]++;cov_gw9ybteza().s[5]++;res.render('login',{title:'login'});});cov_gw9ybteza().s[6]++;router.post('/',async function(req,res,next){cov_gw9ybteza().f[1]++;cov_gw9ybteza().s[7]++;try{let brugernavn=(cov_gw9ybteza().s[8]++,req.body.Username);let password=(cov_gw9ybteza().s[9]++,req.body.Password);const user=(cov_gw9ybteza().s[10]++,await db.authenticateUser(brugernavn,password));cov_gw9ybteza().s[11]++;if(user){cov_gw9ybteza().b[0][0]++;const token=(cov_gw9ybteza().s[12]++,login.generateHashToken(brugernavn,login.getCurrentTimestamp()));cov_gw9ybteza().s[13]++;await db.setToken(token,brugernavn);cov_gw9ybteza().s[14]++;res.cookie('token',token,{maxAge:1800000,path:'/',domain:'localhost'});cov_gw9ybteza().s[15]++;res.redirect('/myTeam');}else{cov_gw9ybteza().b[0][1]++;cov_gw9ybteza().s[16]++;res.redirect('/login');}}catch(err){cov_gw9ybteza().s[17]++;console.log(err);cov_gw9ybteza().s[18]++;res.redirect('/login');}});cov_gw9ybteza().s[19]++;module.exports=router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfZ3c5eWJ0ZXphIiwiYWN0dWFsQ292ZXJhZ2UiLCJleHByZXNzIiwicyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJkYiIsImxvZ2luIiwiZ2V0IiwicmVxIiwicmVzIiwibmV4dCIsImYiLCJyZW5kZXIiLCJ0aXRsZSIsInBvc3QiLCJicnVnZXJuYXZuIiwiYm9keSIsIlVzZXJuYW1lIiwicGFzc3dvcmQiLCJQYXNzd29yZCIsInVzZXIiLCJhdXRoZW50aWNhdGVVc2VyIiwiYiIsInRva2VuIiwiZ2VuZXJhdGVIYXNoVG9rZW4iLCJnZXRDdXJyZW50VGltZXN0YW1wIiwic2V0VG9rZW4iLCJjb29raWUiLCJtYXhBZ2UiLCJwYXRoIiwiZG9tYWluIiwicmVkaXJlY3QiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImxvZ2luLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgZGIgPSByZXF1aXJlKCcuLi9kYXRhYmFzZS9kYi5qcycpO1xyXG5jb25zdCBsb2dpbiA9IHJlcXVpcmUoJy4uL2RhdGFiYXNlL2xvZ2luLmpzJyk7XHJcblxyXG4vKiBHRVQgaG9tZSBwYWdlLiAqL1xyXG5yb3V0ZXIuZ2V0KCcvJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcclxuICByZXMucmVuZGVyKCdsb2dpbicsIHsgdGl0bGU6ICdsb2dpbicgfSk7XHJcbn0pO1xyXG5cclxucm91dGVyLnBvc3QoJy8nLCBhc3luYyBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xyXG4gIHRyeSB7XHJcbiAgICBsZXQgYnJ1Z2VybmF2biA9IHJlcS5ib2R5LlVzZXJuYW1lO1xyXG4gICAgbGV0IHBhc3N3b3JkID0gcmVxLmJvZHkuUGFzc3dvcmQ7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgZGIuYXV0aGVudGljYXRlVXNlcihicnVnZXJuYXZuLCBwYXNzd29yZCk7XHJcbiAgICBpZiAodXNlcikge1xyXG4gICAgICBjb25zdCB0b2tlbiA9IGxvZ2luLmdlbmVyYXRlSGFzaFRva2VuKGJydWdlcm5hdm4sIGxvZ2luLmdldEN1cnJlbnRUaW1lc3RhbXAoKSk7XHJcbiAgICAgIGF3YWl0IGRiLnNldFRva2VuKHRva2VuLCBicnVnZXJuYXZuKTtcclxuICAgICAgcmVzLmNvb2tpZSgndG9rZW4nLCB0b2tlbiwgeyBtYXhBZ2U6IDE4MDAwMDAsIHBhdGg6ICcvJywgZG9tYWluOiAnbG9jYWxob3N0JyB9KTtcclxuICAgICAgcmVzLnJlZGlyZWN0KCcvbXlUZWFtJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMucmVkaXJlY3QoJy9sb2dpbicpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIHJlcy5yZWRpcmVjdCgnL2xvZ2luJyk7XHJcbiAgfVxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijh5RUFlWTtBQUFBQSxhQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGFBQUEsR0FmWixHQUFJLENBQUFFLE9BQU8sRUFBQUYsYUFBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFDaEMsR0FBSSxDQUFBQyxNQUFNLEVBQUFMLGFBQUEsR0FBQUcsQ0FBQSxNQUFHRCxPQUFPLENBQUNJLE1BQU0sQ0FBQyxDQUFDLEVBQzdCLEtBQU0sQ0FBQUMsRUFBRSxFQUFBUCxhQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLG1CQUFtQixDQUFDLEVBQ3ZDLEtBQU0sQ0FBQUksS0FBSyxFQUFBUixhQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLHNCQUFzQixDQUFDLEVBRTdDLG9CQUFBSixhQUFBLEdBQUFHLENBQUEsTUFDQUUsTUFBTSxDQUFDSSxHQUFHLENBQUMsR0FBRyxDQUFFLFNBQVNDLEdBQUcsQ0FBRUMsR0FBRyxDQUFFQyxJQUFJLENBQUUsQ0FBQVosYUFBQSxHQUFBYSxDQUFBLE1BQUFiLGFBQUEsR0FBQUcsQ0FBQSxNQUN2Q1EsR0FBRyxDQUFDRyxNQUFNLENBQUMsT0FBTyxDQUFFLENBQUVDLEtBQUssQ0FBRSxPQUFRLENBQUMsQ0FBQyxDQUN6QyxDQUFDLENBQUMsQ0FBQ2YsYUFBQSxHQUFBRyxDQUFBLE1BRUhFLE1BQU0sQ0FBQ1csSUFBSSxDQUFDLEdBQUcsQ0FBRSxlQUFlTixHQUFHLENBQUVDLEdBQUcsQ0FBRUMsSUFBSSxDQUFFLENBQUFaLGFBQUEsR0FBQWEsQ0FBQSxNQUFBYixhQUFBLEdBQUFHLENBQUEsTUFDOUMsR0FBSSxDQUNGLEdBQUksQ0FBQWMsVUFBVSxFQUFBakIsYUFBQSxHQUFBRyxDQUFBLE1BQUdPLEdBQUcsQ0FBQ1EsSUFBSSxDQUFDQyxRQUFRLEVBQ2xDLEdBQUksQ0FBQUMsUUFBUSxFQUFBcEIsYUFBQSxHQUFBRyxDQUFBLE1BQUdPLEdBQUcsQ0FBQ1EsSUFBSSxDQUFDRyxRQUFRLEVBQ2hDLEtBQU0sQ0FBQUMsSUFBSSxFQUFBdEIsYUFBQSxHQUFBRyxDQUFBLE9BQUcsS0FBTSxDQUFBSSxFQUFFLENBQUNnQixnQkFBZ0IsQ0FBQ04sVUFBVSxDQUFFRyxRQUFRLENBQUMsRUFBQ3BCLGFBQUEsR0FBQUcsQ0FBQSxPQUM3RCxHQUFJbUIsSUFBSSxDQUFFLENBQUF0QixhQUFBLEdBQUF3QixDQUFBLFNBQ1IsS0FBTSxDQUFBQyxLQUFLLEVBQUF6QixhQUFBLEdBQUFHLENBQUEsT0FBR0ssS0FBSyxDQUFDa0IsaUJBQWlCLENBQUNULFVBQVUsQ0FBRVQsS0FBSyxDQUFDbUIsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLEVBQUMzQixhQUFBLEdBQUFHLENBQUEsT0FDL0UsS0FBTSxDQUFBSSxFQUFFLENBQUNxQixRQUFRLENBQUNILEtBQUssQ0FBRVIsVUFBVSxDQUFDLENBQUNqQixhQUFBLEdBQUFHLENBQUEsT0FDckNRLEdBQUcsQ0FBQ2tCLE1BQU0sQ0FBQyxPQUFPLENBQUVKLEtBQUssQ0FBRSxDQUFFSyxNQUFNLENBQUUsT0FBTyxDQUFFQyxJQUFJLENBQUUsR0FBRyxDQUFFQyxNQUFNLENBQUUsV0FBWSxDQUFDLENBQUMsQ0FBQ2hDLGFBQUEsR0FBQUcsQ0FBQSxPQUNoRlEsR0FBRyxDQUFDc0IsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUN6QixDQUFDLElBQU0sQ0FBQWpDLGFBQUEsR0FBQXdCLENBQUEsU0FBQXhCLGFBQUEsR0FBQUcsQ0FBQSxPQUNMUSxHQUFHLENBQUNzQixRQUFRLENBQUMsUUFBUSxDQUFDLENBQ3hCLENBQ0YsQ0FBRSxNQUFPQyxHQUFHLENBQUUsQ0FBQWxDLGFBQUEsR0FBQUcsQ0FBQSxPQUNaZ0MsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQyxDQUFDbEMsYUFBQSxHQUFBRyxDQUFBLE9BQ2pCUSxHQUFHLENBQUNzQixRQUFRLENBQUMsUUFBUSxDQUFDLENBQ3hCLENBQ0YsQ0FBQyxDQUFDLENBQUNqQyxhQUFBLEdBQUFHLENBQUEsT0FFSGtDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFHakMsTUFBTSJ9