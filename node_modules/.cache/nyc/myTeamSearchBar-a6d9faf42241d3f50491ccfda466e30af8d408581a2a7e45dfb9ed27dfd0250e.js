function cov_26iy7kbqxq(){var path="C:\\Users\\oruc\\OneDrive\\Skrivebord\\1.semesterprojekt\\Lock-NESS\\routes\\myTeamSearchBar.js";var hash="85494783aebed36aa57bb9a01a4251ce1b447097";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\oruc\\OneDrive\\Skrivebord\\1.semesterprojekt\\Lock-NESS\\routes\\myTeamSearchBar.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:32}},"1":{start:{line:2,column:13},end:{line:2,column:29}},"2":{start:{line:3,column:11},end:{line:3,column:39}},"3":{start:{line:4,column:14},end:{line:4,column:60}},"4":{start:{line:8,column:2},end:{line:8,column:67}},"5":{start:{line:8,column:37},end:{line:8,column:65}},"6":{start:{line:11,column:0},end:{line:45,column:3}},"7":{start:{line:12,column:14},end:{line:12,column:31}},"8":{start:{line:13,column:18},end:{line:13,column:36}},"9":{start:{line:14,column:17},end:{line:14,column:34}},"10":{start:{line:15,column:23},end:{line:15,column:24}},"11":{start:{line:16,column:2},end:{line:26,column:3}},"12":{start:{line:17,column:4},end:{line:17,column:23}},"13":{start:{line:18,column:9},end:{line:26,column:3}},"14":{start:{line:19,column:4},end:{line:19,column:23}},"15":{start:{line:20,column:9},end:{line:26,column:3}},"16":{start:{line:21,column:4},end:{line:21,column:23}},"17":{start:{line:24,column:4},end:{line:24,column:45}},"18":{start:{line:25,column:4},end:{line:25,column:11}},"19":{start:{line:27,column:2},end:{line:44,column:3}},"20":{start:{line:28,column:4},end:{line:41,column:5}},"21":{start:{line:29,column:23},end:{line:29,column:53}},"22":{start:{line:30,column:6},end:{line:37,column:7}},"23":{start:{line:31,column:23},end:{line:31,column:38}},"24":{start:{line:33,column:8},end:{line:33,column:73}},"25":{start:{line:34,column:8},end:{line:34,column:72}},"26":{start:{line:36,column:8},end:{line:36,column:47}},"27":{start:{line:39,column:6},end:{line:39,column:62}},"28":{start:{line:40,column:6},end:{line:40,column:65}},"29":{start:{line:43,column:4},end:{line:43,column:44}},"30":{start:{line:47,column:0},end:{line:47,column:24}}},fnMap:{"0":{name:"getPokemonDetailsFromList",decl:{start:{line:7,column:9},end:{line:7,column:34}},loc:{start:{line:7,column:61},end:{line:9,column:1}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:8,column:26},end:{line:8,column:27}},loc:{start:{line:8,column:37},end:{line:8,column:65}},line:8},"2":{name:"(anonymous_2)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:42},end:{line:45,column:1}},line:11}},branchMap:{"0":{loc:{start:{line:16,column:2},end:{line:26,column:3}},type:"if",locations:[{start:{line:16,column:2},end:{line:26,column:3}},{start:{line:16,column:2},end:{line:26,column:3}}],line:16},"1":{loc:{start:{line:18,column:9},end:{line:26,column:3}},type:"if",locations:[{start:{line:18,column:9},end:{line:26,column:3}},{start:{line:18,column:9},end:{line:26,column:3}}],line:18},"2":{loc:{start:{line:20,column:9},end:{line:26,column:3}},type:"if",locations:[{start:{line:20,column:9},end:{line:26,column:3}},{start:{line:20,column:9},end:{line:26,column:3}}],line:20},"3":{loc:{start:{line:27,column:2},end:{line:44,column:3}},type:"if",locations:[{start:{line:27,column:2},end:{line:44,column:3}},{start:{line:27,column:2},end:{line:44,column:3}}],line:27},"4":{loc:{start:{line:30,column:6},end:{line:37,column:7}},type:"if",locations:[{start:{line:30,column:6},end:{line:37,column:7}},{start:{line:30,column:6},end:{line:37,column:7}}],line:30}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"85494783aebed36aa57bb9a01a4251ce1b447097"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_26iy7kbqxq=function(){return actualCoverage;};}return actualCoverage;}cov_26iy7kbqxq();var express=(cov_26iy7kbqxq().s[0]++,require('express'));var router=(cov_26iy7kbqxq().s[1]++,express.Router());const db=(cov_26iy7kbqxq().s[2]++,require('../database/db.js'));const Liste=(cov_26iy7kbqxq().s[3]++,require('../Utilities/generatePokemonList.js'));// Tilføj denne funktion til at hente detaljer om en Pokémon fra listen
function getPokemonDetailsFromList(pokemonList,pokemonType){cov_26iy7kbqxq().f[0]++;cov_26iy7kbqxq().s[4]++;return pokemonList.find(pokemon=>{cov_26iy7kbqxq().f[1]++;cov_26iy7kbqxq().s[5]++;return pokemon.Type===pokemonType;});}cov_26iy7kbqxq().s[6]++;router.post('/',async function(req,res){cov_26iy7kbqxq().f[2]++;let token=(cov_26iy7kbqxq().s[7]++,req.cookies.token);let pokemonID=(cov_26iy7kbqxq().s[8]++,req.body.pokemonId);let location=(cov_26iy7kbqxq().s[9]++,req.body.location);let locationNumber=(cov_26iy7kbqxq().s[10]++,0);cov_26iy7kbqxq().s[11]++;if(location=='box'){cov_26iy7kbqxq().b[0][0]++;cov_26iy7kbqxq().s[12]++;locationNumber=1;}else{cov_26iy7kbqxq().b[0][1]++;cov_26iy7kbqxq().s[13]++;if(location=='team'){cov_26iy7kbqxq().b[1][0]++;cov_26iy7kbqxq().s[14]++;locationNumber=2;}else{cov_26iy7kbqxq().b[1][1]++;cov_26iy7kbqxq().s[15]++;if(location=='graveyard'){cov_26iy7kbqxq().b[2][0]++;cov_26iy7kbqxq().s[16]++;locationNumber=3;}else{cov_26iy7kbqxq().b[2][1]++;cov_26iy7kbqxq().s[17]++;// Handle other cases or invalid locations
res.status(400).send('Invalid location');cov_26iy7kbqxq().s[18]++;return;}}}cov_26iy7kbqxq().s[19]++;if(token){cov_26iy7kbqxq().b[3][0]++;cov_26iy7kbqxq().s[20]++;try{const userData=(cov_26iy7kbqxq().s[21]++,await db.getUserByToken(token));cov_26iy7kbqxq().s[22]++;if(userData){cov_26iy7kbqxq().b[4][0]++;const userID=(cov_26iy7kbqxq().s[23]++,userData.Userid);// Indsæt Pokémon i team og opdater dens placering i databasen
cov_26iy7kbqxq().s[24]++;await db.insertPokemonIntoTeam(pokemonID,locationNumber,userID);cov_26iy7kbqxq().s[25]++;res.status(200).send('Pokemon successfully inserted into team');}else{cov_26iy7kbqxq().b[4][1]++;cov_26iy7kbqxq().s[26]++;res.status(401).send('User not found');}}catch(err){cov_26iy7kbqxq().s[27]++;console.error('Error handling Pokémon selection:',err);cov_26iy7kbqxq().s[28]++;res.status(500).send('Failed to handle Pokémon selection');}}else{cov_26iy7kbqxq().b[3][1]++;cov_26iy7kbqxq().s[29]++;res.status(401).send('Token not found');}});cov_26iy7kbqxq().s[30]++;module.exports=router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjZpeTdrYnF4cSIsImFjdHVhbENvdmVyYWdlIiwiZXhwcmVzcyIsInMiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiZGIiLCJMaXN0ZSIsImdldFBva2Vtb25EZXRhaWxzRnJvbUxpc3QiLCJwb2tlbW9uTGlzdCIsInBva2Vtb25UeXBlIiwiZiIsImZpbmQiLCJwb2tlbW9uIiwiVHlwZSIsInBvc3QiLCJyZXEiLCJyZXMiLCJ0b2tlbiIsImNvb2tpZXMiLCJwb2tlbW9uSUQiLCJib2R5IiwicG9rZW1vbklkIiwibG9jYXRpb24iLCJsb2NhdGlvbk51bWJlciIsImIiLCJzdGF0dXMiLCJzZW5kIiwidXNlckRhdGEiLCJnZXRVc2VyQnlUb2tlbiIsInVzZXJJRCIsIlVzZXJpZCIsImluc2VydFBva2Vtb25JbnRvVGVhbSIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJteVRlYW1TZWFyY2hCYXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBkYiA9IHJlcXVpcmUoJy4uL2RhdGFiYXNlL2RiLmpzJyk7XHJcbmNvbnN0IExpc3RlID0gcmVxdWlyZSgnLi4vVXRpbGl0aWVzL2dlbmVyYXRlUG9rZW1vbkxpc3QuanMnKTtcclxuXHJcbi8vIFRpbGbDuGogZGVubmUgZnVua3Rpb24gdGlsIGF0IGhlbnRlIGRldGFsamVyIG9tIGVuIFBva8OpbW9uIGZyYSBsaXN0ZW5cclxuZnVuY3Rpb24gZ2V0UG9rZW1vbkRldGFpbHNGcm9tTGlzdChwb2tlbW9uTGlzdCwgcG9rZW1vblR5cGUpIHtcclxuICByZXR1cm4gcG9rZW1vbkxpc3QuZmluZChwb2tlbW9uID0+IHBva2Vtb24uVHlwZSA9PT0gcG9rZW1vblR5cGUpO1xyXG59XHJcblxyXG5yb3V0ZXIucG9zdCgnLycsIGFzeW5jIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XHJcbiAgbGV0IHRva2VuID0gcmVxLmNvb2tpZXMudG9rZW47XHJcbiAgbGV0IHBva2Vtb25JRCA9IHJlcS5ib2R5LnBva2Vtb25JZDtcclxuICBsZXQgbG9jYXRpb24gPSByZXEuYm9keS5sb2NhdGlvbjtcclxuICBsZXQgbG9jYXRpb25OdW1iZXIgPSAwO1xyXG4gIGlmIChsb2NhdGlvbiA9PSAnYm94Jykge1xyXG4gICAgbG9jYXRpb25OdW1iZXIgPSAxO1xyXG4gIH0gZWxzZSBpZiAobG9jYXRpb24gPT0gJ3RlYW0nKSB7XHJcbiAgICBsb2NhdGlvbk51bWJlciA9IDI7XHJcbiAgfSBlbHNlIGlmIChsb2NhdGlvbiA9PSAnZ3JhdmV5YXJkJykge1xyXG4gICAgbG9jYXRpb25OdW1iZXIgPSAzO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBIYW5kbGUgb3RoZXIgY2FzZXMgb3IgaW52YWxpZCBsb2NhdGlvbnNcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIGxvY2F0aW9uJyk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIGlmICh0b2tlbikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdXNlckRhdGEgPSBhd2FpdCBkYi5nZXRVc2VyQnlUb2tlbih0b2tlbik7XHJcbiAgICAgIGlmICh1c2VyRGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJJRCA9IHVzZXJEYXRhLlVzZXJpZDtcclxuICAgICAgICAvLyBJbmRzw6Z0IFBva8OpbW9uIGkgdGVhbSBvZyBvcGRhdGVyIGRlbnMgcGxhY2VyaW5nIGkgZGF0YWJhc2VuXHJcbiAgICAgICAgYXdhaXQgZGIuaW5zZXJ0UG9rZW1vbkludG9UZWFtKHBva2Vtb25JRCwgbG9jYXRpb25OdW1iZXIsIHVzZXJJRClcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCgnUG9rZW1vbiBzdWNjZXNzZnVsbHkgaW5zZXJ0ZWQgaW50byB0ZWFtJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoJ1VzZXIgbm90IGZvdW5kJyk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBoYW5kbGluZyBQb2vDqW1vbiBzZWxlY3Rpb246JywgZXJyKTtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoJ0ZhaWxlZCB0byBoYW5kbGUgUG9rw6ltb24gc2VsZWN0aW9uJyk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKCdUb2tlbiBub3QgZm91bmQnKTtcclxuICB9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6ImsrSEFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FmWixHQUFJLENBQUFFLE9BQU8sRUFBQUYsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFDaEMsR0FBSSxDQUFBQyxNQUFNLEVBQUFMLGNBQUEsR0FBQUcsQ0FBQSxNQUFHRCxPQUFPLENBQUNJLE1BQU0sQ0FBQyxDQUFDLEVBQzdCLEtBQU0sQ0FBQUMsRUFBRSxFQUFBUCxjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLG1CQUFtQixDQUFDLEVBQ3ZDLEtBQU0sQ0FBQUksS0FBSyxFQUFBUixjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLHFDQUFxQyxDQUFDLEVBRTVEO0FBQ0EsUUFBUyxDQUFBSyx5QkFBeUJBLENBQUNDLFdBQVcsQ0FBRUMsV0FBVyxDQUFFLENBQUFYLGNBQUEsR0FBQVksQ0FBQSxNQUFBWixjQUFBLEdBQUFHLENBQUEsTUFDM0QsTUFBTyxDQUFBTyxXQUFXLENBQUNHLElBQUksQ0FBQ0MsT0FBTyxFQUFJLENBQUFkLGNBQUEsR0FBQVksQ0FBQSxNQUFBWixjQUFBLEdBQUFH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